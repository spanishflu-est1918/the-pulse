{"id":"the-pulse-227","title":"3.2 Save Checkpoints - Implement checkpoint persistence","description":"After each turn, save checkpoint to file. File naming: sessions/[session-id]/turn-[n].json. Include all state needed to resume.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-09T16:57:50.573543+01:00","updated_at":"2025-12-09T17:51:41.455741+01:00","closed_at":"2025-12-09T17:51:41.455741+01:00","dependencies":[{"issue_id":"the-pulse-227","depends_on_id":"the-pulse-6n6","type":"blocks","created_at":"2025-12-09T16:59:35.384422+01:00","created_by":"daemon"}]}
{"id":"the-pulse-2mf","title":"1.3 Player Agent Factory - Build dynamic agent generator","description":"Create function that takes archetype + story context and generates PlayerAgent. Dynamic name generation, backstory generation, system prompt composition. Returns fully configured agent ready to respond.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-09T16:56:56.276793+01:00","updated_at":"2025-12-09T17:14:19.493158+01:00","closed_at":"2025-12-09T17:14:19.493158+01:00","dependencies":[{"issue_id":"the-pulse-2mf","depends_on_id":"the-pulse-3rp","type":"blocks","created_at":"2025-12-09T16:59:19.801548+01:00","created_by":"daemon"},{"issue_id":"the-pulse-2mf","depends_on_id":"the-pulse-n9n","type":"blocks","created_at":"2025-12-09T16:59:19.86471+01:00","created_by":"daemon"}]}
{"id":"the-pulse-31p","title":"Clean up dead code and unused functions","description":"Remove placeholder functions from turn.ts, unused synthesizeWithLLM from spokesperson.ts, and update outdated TODO comment in markdown.ts","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-09T18:56:10.286777+01:00","updated_at":"2025-12-09T18:58:45.09832+01:00","closed_at":"2025-12-09T18:58:45.09832+01:00"}
{"id":"the-pulse-3mn","title":"Wire Up Private Moment Payoff Tracking","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-09T20:22:58.451623+01:00","updated_at":"2025-12-09T21:12:01.253201+01:00","closed_at":"2025-12-09T21:12:01.253201+01:00","dependencies":[{"issue_id":"the-pulse-3mn","depends_on_id":"the-pulse-4yr","type":"blocks","created_at":"2025-12-09T20:30:14.51156+01:00","created_by":"daemon"}]}
{"id":"the-pulse-3rp","title":"1.1 Project Setup - Create test harness package structure","description":"Create new package in monorepo, set up TypeScript, AI SDK v5, configure environment for multiple model providers (Anthropic, OpenAI, Grok, DeepSeek, Kimi), create folder structure","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-09T16:56:41.53768+01:00","updated_at":"2025-12-09T17:11:48.561168+01:00","closed_at":"2025-12-09T17:11:48.561168+01:00"}
{"id":"the-pulse-3t8","title":"Update to latest AI SDK and OpenRouter versions","description":"Update ai to 5.0.107, @openrouter/ai-sdk-provider to 1.5.0, @ai-sdk/openai to 2.0.79, and remove @ai-sdk/anthropic dependency","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-09T18:56:11.808707+01:00","updated_at":"2025-12-09T19:02:06.973589+01:00","closed_at":"2025-12-09T19:02:06.973589+01:00"}
{"id":"the-pulse-4yr","title":"Refactor test-harness into main repo","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-09T20:30:06.045542+01:00","updated_at":"2025-12-09T20:37:36.880915+01:00","closed_at":"2025-12-09T20:37:36.880915+01:00"}
{"id":"the-pulse-4z7","title":"5.3 Multiple Player Models - Support all player agent models","description":"Ensure Grok, Qwen, DeepSeek, Kimi K2 all work as player agents. Map archetypes to models correctly.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-09T16:58:46.04524+01:00","updated_at":"2025-12-09T17:58:12.293453+01:00","closed_at":"2025-12-09T17:58:12.293453+01:00","dependencies":[{"issue_id":"the-pulse-4z7","depends_on_id":"the-pulse-2mf","type":"blocks","created_at":"2025-12-09T16:59:52.585674+01:00","created_by":"daemon"}]}
{"id":"the-pulse-5bq","title":"1.4 Spokesperson Agent - Create synthesis agent","description":"Create spokesperson agent that synthesizes multiple player responses. Takes array of player responses + spokesperson's archetype. Outputs single coherent relay to narrator. Adds realistic noise based on spokesperson personality.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-09T16:57:04.346036+01:00","updated_at":"2025-12-09T17:15:08.047336+01:00","closed_at":"2025-12-09T17:15:08.047336+01:00","dependencies":[{"issue_id":"the-pulse-5bq","depends_on_id":"the-pulse-3rp","type":"blocks","created_at":"2025-12-09T16:59:19.933129+01:00","created_by":"daemon"},{"issue_id":"the-pulse-5bq","depends_on_id":"the-pulse-n9n","type":"blocks","created_at":"2025-12-09T16:59:19.995886+01:00","created_by":"daemon"},{"issue_id":"the-pulse-5bq","depends_on_id":"the-pulse-2mf","type":"blocks","created_at":"2025-12-09T16:59:20.059926+01:00","created_by":"daemon"}]}
{"id":"the-pulse-6n6","title":"3.1 Checkpoint Schema - Define checkpoint data structure","description":"Define Checkpoint interface (conversation history, agent states, session config, detected events). Serializable to JSON.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-09T16:57:43.351205+01:00","updated_at":"2025-12-09T17:51:22.615088+01:00","closed_at":"2025-12-09T17:51:22.615088+01:00","dependencies":[{"issue_id":"the-pulse-6n6","depends_on_id":"the-pulse-y22","type":"blocks","created_at":"2025-12-09T16:59:35.326505+01:00","created_by":"daemon"}]}
{"id":"the-pulse-6qw","title":"Comparison CLI for A/B Testing","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-09T20:22:25.965238+01:00","updated_at":"2025-12-09T22:02:44.669032+01:00","closed_at":"2025-12-09T22:02:44.669032+01:00","dependencies":[{"issue_id":"the-pulse-6qw","depends_on_id":"the-pulse-dy8","type":"blocks","created_at":"2025-12-09T20:23:40.231391+01:00","created_by":"daemon"},{"issue_id":"the-pulse-6qw","depends_on_id":"the-pulse-c04","type":"blocks","created_at":"2025-12-09T20:23:40.340529+01:00","created_by":"daemon"}]}
{"id":"the-pulse-7nh","title":"Error Recovery and Retry Logic","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-09T20:23:04.195278+01:00","updated_at":"2025-12-09T22:02:44.538358+01:00","closed_at":"2025-12-09T22:02:44.538358+01:00","dependencies":[{"issue_id":"the-pulse-7nh","depends_on_id":"the-pulse-4yr","type":"blocks","created_at":"2025-12-09T20:30:14.574855+01:00","created_by":"daemon"}]}
{"id":"the-pulse-87q","title":"HTML Report Visualization (Optional)","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-09T20:23:25.497328+01:00","updated_at":"2025-12-09T22:02:44.738026+01:00","closed_at":"2025-12-09T22:02:44.738026+01:00","dependencies":[{"issue_id":"the-pulse-87q","depends_on_id":"the-pulse-niq","type":"blocks","created_at":"2025-12-09T20:23:47.392611+01:00","created_by":"daemon"}]}
{"id":"the-pulse-8n9","title":"5.5 End-to-End Test - Validate complete system","description":"Run 5 sessions with different configs. Verify: sessions complete, reports generate, checkpoints save, replay works. Review reports manually for sanity.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-09T16:58:59.049262+01:00","updated_at":"2025-12-09T18:00:34.172976+01:00","closed_at":"2025-12-09T18:00:34.172976+01:00","dependencies":[{"issue_id":"the-pulse-8n9","depends_on_id":"the-pulse-msa","type":"blocks","created_at":"2025-12-09T16:59:52.703664+01:00","created_by":"daemon"},{"issue_id":"the-pulse-8n9","depends_on_id":"the-pulse-yo1","type":"blocks","created_at":"2025-12-09T16:59:52.762983+01:00","created_by":"daemon"},{"issue_id":"the-pulse-8n9","depends_on_id":"the-pulse-maz","type":"blocks","created_at":"2025-12-09T16:59:52.823915+01:00","created_by":"daemon"},{"issue_id":"the-pulse-8n9","depends_on_id":"the-pulse-wcs","type":"blocks","created_at":"2025-12-09T16:59:52.887871+01:00","created_by":"daemon"},{"issue_id":"the-pulse-8n9","depends_on_id":"the-pulse-4z7","type":"blocks","created_at":"2025-12-09T16:59:52.949191+01:00","created_by":"daemon"},{"issue_id":"the-pulse-8n9","depends_on_id":"the-pulse-gje","type":"blocks","created_at":"2025-12-09T16:59:53.006601+01:00","created_by":"daemon"}]}
{"id":"the-pulse-8zx","title":"3.3 Load \u0026 Replay - Implement checkpoint loading and replay","description":"Function to load checkpoint from file. Function to resume session from checkpoint with optionally modified config. Allow changing: system prompt, story guide, narrator model. Keep: conversation history, player agents, group composition.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-09T16:57:56.272317+01:00","updated_at":"2025-12-09T17:52:10.888389+01:00","closed_at":"2025-12-09T17:52:10.888389+01:00","dependencies":[{"issue_id":"the-pulse-8zx","depends_on_id":"the-pulse-227","type":"blocks","created_at":"2025-12-09T16:59:35.441214+01:00","created_by":"daemon"}]}
{"id":"the-pulse-akc","title":"2.2 Output Classification - Classify narrator output types","description":"Function to classify narrator output: pulse, tangent-response, private-moment, clarification, recap. Use cheap model (GPT-4o-mini) for classification. Return classification + confidence.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-09T16:57:23.924141+01:00","updated_at":"2025-12-09T17:49:37.604283+01:00","closed_at":"2025-12-09T17:49:37.604283+01:00","dependencies":[{"issue_id":"the-pulse-akc","depends_on_id":"the-pulse-3rp","type":"blocks","created_at":"2025-12-09T16:59:29.129456+01:00","created_by":"daemon"}]}
{"id":"the-pulse-asp","title":"Session Metadata and Tagging System","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-09T20:23:10.966626+01:00","updated_at":"2025-12-09T21:12:01.312145+01:00","closed_at":"2025-12-09T21:12:01.312145+01:00","dependencies":[{"issue_id":"the-pulse-asp","depends_on_id":"the-pulse-4yr","type":"blocks","created_at":"2025-12-09T20:30:22.902926+01:00","created_by":"daemon"}]}
{"id":"the-pulse-awg","title":"2.1 Session Runner - Main orchestration loop","description":"Main session orchestration. Initialize narrator with config, generate random group (2-5 players), select spokesperson, run character creation, main loop (narrator→classify→route→collect→synthesize→repeat), detect session end.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-09T16:57:16.885336+01:00","updated_at":"2025-12-09T17:54:45.955062+01:00","closed_at":"2025-12-09T17:54:45.955062+01:00","dependencies":[{"issue_id":"the-pulse-awg","depends_on_id":"the-pulse-y22","type":"blocks","created_at":"2025-12-09T16:59:29.531044+01:00","created_by":"daemon"},{"issue_id":"the-pulse-awg","depends_on_id":"the-pulse-2mf","type":"blocks","created_at":"2025-12-09T16:59:29.592016+01:00","created_by":"daemon"},{"issue_id":"the-pulse-awg","depends_on_id":"the-pulse-5bq","type":"blocks","created_at":"2025-12-09T16:59:29.649908+01:00","created_by":"daemon"}]}
{"id":"the-pulse-c04","title":"Prompt File Loader for Versioned Prompts","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-09T20:22:39.743994+01:00","updated_at":"2025-12-09T21:12:01.117037+01:00","closed_at":"2025-12-09T21:12:01.117037+01:00","dependencies":[{"issue_id":"the-pulse-c04","depends_on_id":"the-pulse-4yr","type":"blocks","created_at":"2025-12-09T20:30:14.383631+01:00","created_by":"daemon"}]}
{"id":"the-pulse-dc6","title":"2.3 Private Moment Detection \u0026 Routing - Handle individual player interactions","description":"Detect when narrator addresses individual player. Route to correct player agent (bypass spokesperson). Collect individual response. Return to main flow.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-09T16:57:30.018642+01:00","updated_at":"2025-12-09T17:50:04.863921+01:00","closed_at":"2025-12-09T17:50:04.863921+01:00","dependencies":[{"issue_id":"the-pulse-dc6","depends_on_id":"the-pulse-akc","type":"blocks","created_at":"2025-12-09T16:59:29.198938+01:00","created_by":"daemon"},{"issue_id":"the-pulse-dc6","depends_on_id":"the-pulse-2mf","type":"blocks","created_at":"2025-12-09T16:59:29.267805+01:00","created_by":"daemon"}]}
{"id":"the-pulse-dy8","title":"Story File Loader and JSON Definitions","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-09T20:22:34.369963+01:00","updated_at":"2025-12-09T20:46:10.87494+01:00","closed_at":"2025-12-09T20:46:10.87494+01:00","dependencies":[{"issue_id":"the-pulse-dy8","depends_on_id":"the-pulse-4yr","type":"blocks","created_at":"2025-12-09T20:30:14.31608+01:00","created_by":"daemon"}]}
{"id":"the-pulse-ea5","title":"4.1 Issue Detection - Detect narrative problems","description":"Detect contradictions, loops, forced segues, stuck moments. Return list of Issue objects with turn, type, description, severity.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-09T16:58:07.77791+01:00","updated_at":"2025-12-09T17:55:25.873713+01:00","closed_at":"2025-12-09T17:55:25.873713+01:00","dependencies":[{"issue_id":"the-pulse-ea5","depends_on_id":"the-pulse-awg","type":"blocks","created_at":"2025-12-09T16:59:44.008531+01:00","created_by":"daemon"}]}
{"id":"the-pulse-gak","title":"Replace Anthropic SDK with OpenRouter for all models","description":"Update narrator.ts to use OpenRouter for Claude models instead of direct Anthropic SDK, update all imports and model configurations","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-09T18:56:13.409039+01:00","updated_at":"2025-12-09T19:02:08.631043+01:00","closed_at":"2025-12-09T19:02:08.631043+01:00"}
{"id":"the-pulse-ge2","title":"Tangent Detection and Tracking","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-09T20:22:46.152661+01:00","updated_at":"2025-12-09T21:12:01.181944+01:00","closed_at":"2025-12-09T21:12:01.181944+01:00","dependencies":[{"issue_id":"the-pulse-ge2","depends_on_id":"the-pulse-4yr","type":"blocks","created_at":"2025-12-09T20:30:14.449024+01:00","created_by":"daemon"}]}
{"id":"the-pulse-gje","title":"5.4 Error Handling - Add robust error handling","description":"Handle API failures gracefully. Retry logic for transient errors. Save checkpoint before crash if possible. Clear error messages in report.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-09T16:58:51.816217+01:00","updated_at":"2025-12-09T17:58:37.871465+01:00","closed_at":"2025-12-09T17:58:37.871465+01:00","dependencies":[{"issue_id":"the-pulse-gje","depends_on_id":"the-pulse-awg","type":"blocks","created_at":"2025-12-09T16:59:52.641633+01:00","created_by":"daemon"}]}
{"id":"the-pulse-le4","title":"4.2 Timeline Generation - Build session timeline","description":"Process full transcript into timeline entries. Group by: character creation, pulses, tangents, recoveries, private moments, issues. Each entry has turn, type, title, content, notes.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-09T16:58:13.849477+01:00","updated_at":"2025-12-09T17:55:55.532364+01:00","closed_at":"2025-12-09T17:55:55.532364+01:00","dependencies":[{"issue_id":"the-pulse-le4","depends_on_id":"the-pulse-awg","type":"blocks","created_at":"2025-12-09T16:59:44.068992+01:00","created_by":"daemon"}]}
{"id":"the-pulse-lpn","title":"Performance Metrics Tracking","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-09T20:23:18.682702+01:00","updated_at":"2025-12-09T21:12:01.372889+01:00","closed_at":"2025-12-09T21:12:01.372889+01:00","dependencies":[{"issue_id":"the-pulse-lpn","depends_on_id":"the-pulse-4yr","type":"blocks","created_at":"2025-12-09T20:30:22.962966+01:00","created_by":"daemon"}]}
{"id":"the-pulse-maz","title":"5.1 Cost Tracking - Track API costs","description":"Track tokens used per agent per turn. Calculate cost based on model pricing. Include in session report.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-09T16:58:34.593362+01:00","updated_at":"2025-12-09T17:58:12.171189+01:00","closed_at":"2025-12-09T17:58:12.171189+01:00","dependencies":[{"issue_id":"the-pulse-maz","depends_on_id":"the-pulse-awg","type":"blocks","created_at":"2025-12-09T16:59:52.465+01:00","created_by":"daemon"}]}
{"id":"the-pulse-msa","title":"4.4 CLI for Running Sessions - Build run command","description":"Command: pnpm test:run --story [story-id] --prompt [prompt-name] --narrator [model]. Runs full session. Outputs checkpoints + report. Prints summary to console.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-09T16:58:28.323575+01:00","updated_at":"2025-12-09T17:57:19.626944+01:00","closed_at":"2025-12-09T17:57:19.626944+01:00","dependencies":[{"issue_id":"the-pulse-msa","depends_on_id":"the-pulse-awg","type":"blocks","created_at":"2025-12-09T16:59:44.247169+01:00","created_by":"daemon"},{"issue_id":"the-pulse-msa","depends_on_id":"the-pulse-x4m","type":"blocks","created_at":"2025-12-09T16:59:44.307255+01:00","created_by":"daemon"},{"issue_id":"the-pulse-msa","depends_on_id":"the-pulse-227","type":"blocks","created_at":"2025-12-09T16:59:44.365589+01:00","created_by":"daemon"}]}
{"id":"the-pulse-n9n","title":"1.2 Define Archetypes - Create archetype definitions","description":"Create archetypes.ts with all 10 archetype definitions (Joker, Engaged, Questioner, Wildcard, Follower, Curious, Optimizer, Invested, Drifter, Experienced). Each includes id, name, style, context, patterns, quirkFrequency, model assignment. Export as typed constant.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-09T16:56:49.956312+01:00","updated_at":"2025-12-09T17:13:28.606873+01:00","closed_at":"2025-12-09T17:13:28.606873+01:00","dependencies":[{"issue_id":"the-pulse-n9n","depends_on_id":"the-pulse-3rp","type":"blocks","created_at":"2025-12-09T16:59:19.739353+01:00","created_by":"daemon"}]}
{"id":"the-pulse-niq","title":"Batch Analysis CLI","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-09T20:22:19.078342+01:00","updated_at":"2025-12-09T22:02:44.600983+01:00","closed_at":"2025-12-09T22:02:44.600983+01:00","dependencies":[{"issue_id":"the-pulse-niq","depends_on_id":"the-pulse-dy8","type":"blocks","created_at":"2025-12-09T20:23:32.483009+01:00","created_by":"daemon"},{"issue_id":"the-pulse-niq","depends_on_id":"the-pulse-c04","type":"blocks","created_at":"2025-12-09T20:23:32.552336+01:00","created_by":"daemon"}]}
{"id":"the-pulse-wcs","title":"5.2 Multiple Narrator Models - Support all narrator models","description":"Ensure Opus 4.5, Grok 4, DeepSeek R2 all work as narrators. Handle different API patterns/auth.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-09T16:58:40.545058+01:00","updated_at":"2025-12-09T17:58:12.231746+01:00","closed_at":"2025-12-09T17:58:12.231746+01:00","dependencies":[{"issue_id":"the-pulse-wcs","depends_on_id":"the-pulse-awg","type":"blocks","created_at":"2025-12-09T16:59:52.525805+01:00","created_by":"daemon"}]}
{"id":"the-pulse-x4m","title":"4.3 Session Report Generator - Generate markdown reports","description":"Take completed session data. Generate formatted markdown report. Sections: Config, Group, Summary, Timeline, Issues, Full Transcript. Write to sessions/[session-id]/report.md.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-09T16:58:20.593669+01:00","updated_at":"2025-12-09T17:56:32.57539+01:00","closed_at":"2025-12-09T17:56:32.57539+01:00","dependencies":[{"issue_id":"the-pulse-x4m","depends_on_id":"the-pulse-ea5","type":"blocks","created_at":"2025-12-09T16:59:44.127358+01:00","created_by":"daemon"},{"issue_id":"the-pulse-x4m","depends_on_id":"the-pulse-le4","type":"blocks","created_at":"2025-12-09T16:59:44.186969+01:00","created_by":"daemon"}]}
{"id":"the-pulse-y22","title":"2.4 Turn Execution - Single turn logic","description":"Single turn logic extracted as reusable function. Narrator generates→classify→route→agents respond→spokesperson synthesizes→return. Each turn returns all data needed for checkpoint.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-09T16:57:36.930901+01:00","updated_at":"2025-12-09T17:50:48.813376+01:00","closed_at":"2025-12-09T17:50:48.813376+01:00","dependencies":[{"issue_id":"the-pulse-y22","depends_on_id":"the-pulse-akc","type":"blocks","created_at":"2025-12-09T16:59:29.333621+01:00","created_by":"daemon"},{"issue_id":"the-pulse-y22","depends_on_id":"the-pulse-dc6","type":"blocks","created_at":"2025-12-09T16:59:29.401681+01:00","created_by":"daemon"},{"issue_id":"the-pulse-y22","depends_on_id":"the-pulse-5bq","type":"blocks","created_at":"2025-12-09T16:59:29.466344+01:00","created_by":"daemon"}]}
{"id":"the-pulse-yo1","title":"3.4 CLI for Replay - Build replay command","description":"Command: pnpm test:replay --checkpoint [path] --prompt [new-prompt-name]. Loads checkpoint, applies new config, continues session. Outputs new session with branched ID.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-09T16:58:02.179021+01:00","updated_at":"2025-12-09T17:57:52.356183+01:00","closed_at":"2025-12-09T17:57:52.356183+01:00","dependencies":[{"issue_id":"the-pulse-yo1","depends_on_id":"the-pulse-8zx","type":"blocks","created_at":"2025-12-09T16:59:35.499611+01:00","created_by":"daemon"}]}
